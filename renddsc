--// RennD1 - Violence District (ESP ONLY)
--// UI Draggable + Open Close
--// By RennD1

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "RennD1UI"

local Main = Instance.new("Frame", ScreenGui)
Main.Size = UDim2.new(0, 420, 0, 300)
Main.Position = UDim2.new(0.3, 0, 0.25, 0)
Main.BackgroundColor3 = Color3.fromRGB(25,25,25)
Main.BorderSizePixel = 0
Main.Active = true
Main.Draggable = true

Instance.new("UICorner", Main).CornerRadius = UDim.new(0,12)

-- Header
local Header = Instance.new("TextLabel", Main)
Header.Size = UDim2.new(1,0,0,45)
Header.BackgroundColor3 = Color3.fromRGB(35,35,35)
Header.Text = "üî• RennD1 | Violence District"
Header.TextColor3 = Color3.new(1,1,1)
Header.Font = Enum.Font.GothamBold
Header.TextSize = 18
Header.BorderSizePixel = 0

-- Close
local Close = Instance.new("TextButton", Header)
Close.Size = UDim2.new(0,40,1,0)
Close.Position = UDim2.new(1,-40,0,0)
Close.Text = "X"
Close.BackgroundTransparency = 1
Close.TextColor3 = Color3.fromRGB(255,80,80)
Close.Font = Enum.Font.GothamBold
Close.TextSize = 18
Close.MouseButton1Click:Connect(function()
	Main.Visible = false
end)

-- Open Button
local Open = Instance.new("TextButton", ScreenGui)
Open.Size = UDim2.new(0,60,0,30)
Open.Position = UDim2.new(0,10,0.5,0)
Open.Text = "OPEN"
Open.Font = Enum.Font.GothamBold
Open.TextSize = 14
Open.BackgroundColor3 = Color3.fromRGB(30,30,30)
Open.TextColor3 = Color3.new(1,1,1)
Open.MouseButton1Click:Connect(function()
	Main.Visible = not Main.Visible
end)

-- ESP Toggle
local ESP = false

local EspBtn = Instance.new("TextButton", Main)
EspBtn.Size = UDim2.new(0.9,0,0,40)
EspBtn.Position = UDim2.new(0.05,0,0,80)
EspBtn.Text = "üëÅ ESP Player [OFF]"
EspBtn.Font = Enum.Font.Gotham
EspBtn.TextSize = 15
EspBtn.BackgroundColor3 = Color3.fromRGB(45,45,45)
EspBtn.TextColor3 = Color3.new(1,1,1)
EspBtn.BorderSizePixel = 0
Instance.new("UICorner", EspBtn).CornerRadius = UDim.new(0,8)

EspBtn.MouseButton1Click:Connect(function()
	ESP = not ESP
	EspBtn.Text = ESP and "üëÅ ESP Player [ON]" or "üëÅ ESP Player [OFF]"
end)

-- ESP Logic
RunService.RenderStepped:Connect(function()
	for _,plr in pairs(Players:GetPlayers()) do
		if plr ~= LocalPlayer and plr.Character and plr.Character:FindFirstChild("Head") then
			if ESP then
				if not plr.Character.Head:FindFirstChild("RennESP") then
					local bill = Instance.new("BillboardGui", plr.Character.Head)
					bill.Name = "RennESP"
					bill.Size = UDim2.new(0,150,0,40)
					bill.AlwaysOnTop = true

					local txt = Instance.new("TextLabel", bill)
					txt.Size = UDim2.new(1,0,1,0)
					txt.BackgroundTransparency = 1
					txt.Font = Enum.Font.GothamBold
					txt.TextSize = 14
					txt.TextColor3 = Color3.new(1,0,0)

					RunService.RenderStepped:Connect(function()
						if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") then
							local dist = (LocalPlayer.Character.HumanoidRootPart.Position - plr.Character.HumanoidRootPart.Position).Magnitude
							txt.Text = plr.Name.." | "..math.floor(dist).."m"
						end
					end)
				end
			else
				local e = plr.Character.Head:FindFirstChild("RennESP")
				if e then e:Destroy() end
			end
		end
	end
end)
